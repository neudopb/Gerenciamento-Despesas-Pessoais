{% extends 'base.html' %}

{% block title %}Nova Receita{% endblock title %}

{% block content %}
<main>
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">Receitas</h1>
    </div>
    <hr class="mt-0 mb-4"/>
    <div class="row">
        <div class="col-xl-2"></div>
        <div class="col-xl-8">
            <div class="card mb-4">
                <div class="card-header">Nova Receita</div>
                <div class="card-body">
                    <input type="hidden" id="gerenc" value="{{ id_gerenc }}">
                    <form method="post">
                        {% csrf_token %}
                        <!--{{ form}}-->
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label class="small mb-1">Valor</label>
                                {{ form.valor }}
                            </div>
                            <div class="form-group col-md-6">
                                <label class="small mb-1">Data</label>
                                {{ form.data }}
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-12">
                                <label class="small mb-1">Descrição</label>
                                {{ form.descricao }}
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label class="small mb-1">Categoria</label>
                                {{ form.id_categoria }}
                            </div>
                            <div class="form-group col-md-1"></div>
                            <div class="form-group col-md-2">
                                <br><label class="mb-1">Recebido</label><br>
                                {{ form.recebido }}
                            </div>
                            <div class="form-group col-md-2">
                                <br><label class="mb-1">Receita Fixa</label><br>
                                {{ form.receita_fixa }}
                            </div>
                        </div>
                        {{ form.fixa_ativa }}
                        {{ form.id_gerenciador }}
                        <button class="btn btn-primary" type="submit">Salvar</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</main>
{% endblock content %}

{% block js %}
<script type="text/javascript">
    $(document).ready(function () {
        $("#id_valor").addClass("form-control").attr("placeholder", "R$ 0.00");
        $("#id_data").addClass("form-control");
        $("#id_descricao").addClass("form-control").attr("rows", 2).attr("placeholder", "Descrição da Receita");
        $("#id_id_categoria").addClass("form-control");
        $("#id_id_gerenciador").attr("hidden", true);
        $("#id_id_gerenciador").val($("#gerenc").val());
        $("#id_fixa_ativa").attr("hidden", true);

    });

    $("#id_receita_fixa").click(function (){
        if ($(this).prop("checked")) {
            $("#id_fixa_ativa").prop("checked", true);
        } else {
            $("#id_fixa_ativa").prop("checked", false);
        }
    });
</script>

{% endblock js %}